(()=>{"use strict";function t(t){return"function"==typeof t}function e(e){return function(n){if(function(e){return t(null==e?void 0:e.lift)}(n))return n.lift((function(t){try{return e(t,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return c}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create;var u,s=((u=function(t){var e;e=this,Error.call(e),e.stack=(new Error).stack,this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}).prototype=Object.create(Error.prototype),u.prototype.constructor=u,u);function a(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var l=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,n,r,u,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var d=i(l),p=d.next();!p.done;p=d.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}else l.remove(this);var h=this.initialTeardown;if(t(h))try{h()}catch(t){a=t instanceof s?t.errors:[t]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var y=i(v),b=y.next();!b.done;b=y.next()){var m=b.value;try{f(m)}catch(t){a=null!=a?a:[],t instanceof s?a=c(c([],o(a)),o(t.errors)):a.push(t)}}}catch(t){r={error:t}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(r)throw r.error}}}if(a)throw new s(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&a(e,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&a(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((n=new e).closed=!0,n),e;var n}();function d(e){return e instanceof l||e&&"closed"in e&&t(e.remove)&&t(e.add)&&t(e.unsubscribe)}function f(e){t(e)?e():e.unsubscribe()}l.EMPTY;var p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},h={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=h.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,c([t,e],o(n))):setTimeout.apply(void 0,c([t,e],o(n)))},clearTimeout:function(t){var e=h.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function v(){}var y=b("C",void 0,void 0);function b(t,e,n){return{kind:t,value:e,error:n}}var m=null,g=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,d(e)&&e.add(n)):n.destination=A,n}return r(e,t),e.create=function(t,e,n){return new x(t,e,n)},e.prototype.next=function(t){this.isStopped?S(function(t){return b("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?S(b("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?S(y,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(l),w=Function.prototype.bind;function _(t,e){return w.call(t,e)}var E=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){I(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){I(t)}else I(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){I(t)}},t}(),x=function(e){function n(n,r,i){var o,c,u=e.call(this)||this;return t(n)||!n?o={next:null!=n?n:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:u&&p.useDeprecatedNextContext?((c=Object.create(n)).unsubscribe=function(){return u.unsubscribe()},o={next:n.next&&_(n.next,c),error:n.error&&_(n.error,c),complete:n.complete&&_(n.complete,c)}):o=n,u.destination=new E(o),u}return r(n,e),n}(g);function I(t){var e;p.useDeprecatedSynchronousErrorHandling?(e=t,p.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=e)):function(t){h.setTimeout((function(){var e=p.onUnhandledError;if(!e)throw t;e(t)}))}(t)}function S(t,e){var n=p.onStoppedNotification;n&&h.setTimeout((function(){return n(t,e)}))}var A={closed:!0,next:v,error:function(t){throw t},complete:v};function T(t,e,n,r,i){return new O(t,e,n,r,i)}var O=function(t){function e(e,n,r,i,o,c){var u=t.call(this,e)||this;return u.onFinalize=o,u.shouldUnsubscribe=c,u._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return r(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(g);function P(t,n){return e((function(e,r){var i=0;e.subscribe(T(r,(function(e){return t.call(n,e,i++)&&r.next(e)})))}))}var k=function(t){function e(e,n){return t.call(this)||this}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(l),B={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=B.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,c([t,e],o(n))):setInterval.apply(void 0,c([t,e],o(n)))},clearInterval:function(t){var e=B.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},U=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r(e,t),e.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),B.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&B.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(k),L={now:function(){return(L.delegate||Date).now()},delegate:void 0},j=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=L.now,t}(),z=new(function(t){function e(e,n){void 0===n&&(n=j.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(j))(U);function M(t,n){return void 0===n&&(n=z),e((function(e,r){var i=null,o=null,c=null,u=function(){if(i){i.unsubscribe(),i=null;var t=o;o=null,r.next(t)}};function s(){var e=c+t,o=n.now();if(o<e)return i=this.schedule(void 0,e-o),void r.add(i);u()}e.subscribe(T(r,(function(e){o=e,c=n.now(),i||(i=n.schedule(s,t),r.add(i))}),(function(){u(),r.complete()}),void 0,(function(){o=i=null})))}))}var D="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(t){return t}var N=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,n,r){var i,o=this,c=(i=e)&&i instanceof g||function(e){return e&&t(e.next)&&t(e.error)&&t(e.complete)}(i)&&d(i)?e:new x(e,n,r);return function(t){if(p.useDeprecatedSynchronousErrorHandling){var e=!m;if(e&&(m={errorThrown:!1,error:null}),t(),e){var n=m,r=n.errorThrown,i=n.error;if(m=null,r)throw i}}else t()}((function(){var t=o,e=t.operator,n=t.source;c.add(e?e.call(c,n):n?o._subscribe(c):o._trySubscribe(c))})),c},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},e.prototype.forEach=function(t,e){var n=this;return new(e=F(e))((function(e,r){var i=new x({next:function(e){try{t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:e});n.subscribe(i)}))},e.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},e.prototype[D]=function(){return this},e.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(n=t).length?C:1===n.length?n[0]:function(t){return n.reduce((function(t,e){return e(t)}),t)})(this);var n},e.prototype.toPromise=function(t){var e=this;return new(t=F(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},e.create=function(t){return new e(t)},e}();function F(t){var e;return null!==(e=null!=t?t:p.Promise)&&void 0!==e?e:Promise}var H=new N((function(t){return t.complete()}));function V(t){return t<=0?function(){return H}:e((function(e,n){var r=0;e.subscribe(T(n,(function(e){++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}var q=document.getElementById("mat-metalico"),Y=document.getElementById("mat-telone"),$=document.getElementById("option-container-metallico"),G=document.getElementById("option-container-telone");document.getElementById("day-night-slider").addEventListener("change",(function(){console.log(this.value),K.updateVariable("prelata",this.value)}));var R=!1,J=!1;q.addEventListener("click",(function(){J&&(G.style.left="-100%",J=!J),R?($.style.left="-100%",R=!R):($.style.left="0%",R=!R)})),Y.addEventListener("click",(function(){R&&($.style.left="-100%",R=!R),J?(G.style.left="-100%",J=!J):(G.style.left="0%",J=!J)}));var K=window.FIGARO_API;K.loadProduct("ffb79240-cbfd-4858-a119-384ff6fdf1be",{clearSelection:!0}),console.log(K);var Q=document.getElementById("thumb-mat-metallico"),W=document.getElementById("thumb-mat-telone");K.View.Materials.getMaterialOptions$("Bars").pipe(P((function(t){return!!t.length})),M(100),V(1)).subscribe((function(t){console.log(t);var e=document.getElementById("option-container-metallico");Q.src=t[0].presentation.thumbnail.downloadUrl;for(var n=function(n){var r=t[n],i=document.createElement("div");i.classList.add("thumb-option"),i.addEventListener("click",(function(){K.Scene.setMaterial("Bars",r.id),Q.src=r.presentation.thumbnail.downloadUrl}));var o=document.createElement("img");o.classList.add("thumb-option-image"),o.src=r.presentation.thumbnail.downloadUrl;var c=document.createElement("div");c.classList.add("thumb-option-text"),c.innerText=r.presentation.name,i.append(o),i.append(c),e.append(i)},r=0;r<t.length;r++)n(r);document.getElementById("mat-metalico").style.display="block"})),K.View.Materials.getMaterialOptions$("Prelata").pipe(P((function(t){return!!t.length})),M(100),V(1)).subscribe((function(t){var e=document.getElementById("option-container-telone");W.src=t[0].presentation.thumbnail.downloadUrl;for(var n=function(n){var r=t[n],i=document.createElement("div");i.classList.add("thumb-option"),i.addEventListener("click",(function(){K.Scene.setMaterial("Prelata",r.id),W.src=r.presentation.thumbnail.downloadUrl}));var o=document.createElement("img");o.classList.add("thumb-option-image"),o.src=r.presentation.thumbnail.downloadUrl;var c=document.createElement("div");c.classList.add("thumb-option-text"),c.innerText=r.presentation.name,i.append(o),i.append(c),e.append(i)},r=0;r<t.length;r++)n(r);document.getElementById("mat-telone").style.display="block"}))})();